<ion-header>
  <ion-toolbar color="nav">
    <ion-title *ngIf="showLogin">{{ 'pages.auth.title.login' | translate }}</ion-title>
    <ion-title *ngIf="!showLogin">{{ 'pages.auth.title.register' | translate }}</ion-title>

    <ion-buttons slot="end">
      <ion-button *ngIf="!showLogin" expand="block" (click)="toggleLogin()" fill="clear">{{ 'pages.auth.button.login' | translate }}</ion-button>
      <ion-button *ngIf="showLogin" expand="block" (click)="toggleLogin()" fill="clear">{{ 'pages.auth.button.register' | translate }}</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content class="ion-padding">
  <div class="auth-container">
    <ion-list>
      <div class="auth-entry">

        <div *ngIf="isSelfHost">
          {{ 'pages.auth.selfhostWarning' | translate }}
        </div>

        <div class="welcome" *ngIf="showLogin">
          <h2>{{ 'pages.auth.welcome.login' | translate }}</h2>
          <span>{{ 'pages.auth.welcome.login.sub' | translate }}</span>
        </div>

        <div class="welcome" *ngIf="!showLogin">
          <h2>{{ 'pages.auth.welcome.register' | translate }}</h2>
          <span>{{ 'pages.auth.welcome.register.sub1' | translate }}</span><br />
          <span>{{ 'pages.auth.welcome.register.sub2' | translate }}</span>
        </div>

        <br /><br /><br /><br />

        <div *ngIf="!showLogin">
          <label>
            {{ 'pages.auth.input.name' | translate }}<br />
            <input id="name" type="text" />
          </label>
          <br /><br />
        </div>

        <label>
          {{ 'pages.auth.input.email' | translate }}<br />
          <input id="email" type="email" />
        </label>
        <br /><br />

        <label>
          {{ 'pages.auth.input.password' | translate }}<br />
          <input id="password" (keyup.enter)="showLogin && auth()" type="password" />
        </label>
        <br /><br />

        <div *ngIf="!showLogin">
          <label>
            {{ 'pages.auth.input.confirmPassword' | translate }}<br />
            <input id="confirmPassword" (keyup.enter)="auth()" type="password" />
          </label>
          <br /><br />
        </div>
      </div>

      <tos-clickwrap-agreement *ngIf="!isSelfHost" [actionTitle]="showLogin ? 'logging in' : 'creating an account'"></tos-clickwrap-agreement>

      <div *ngIf="isSelfHost">{{ 'pages.auth.selfhostWarning2' | translate }}</div>

      <div class="ion-padding">
        <ion-button *ngIf="showLogin" expand="block" (click)="auth()">{{ 'pages.auth.button.login' | translate }}</ion-button>
        <ion-button *ngIf="!showLogin" expand="block" (click)="auth()">{{ 'pages.auth.button.register' | translate }}</ion-button>
  		</div>

      <div>
        <ion-button fill="clear" expand="block" *ngIf="showLogin" (click)="forgotPassword()">{{ 'pages.auth.button.forgotPassword' | translate }}</ion-button>
      </div>

      <div>
        <ion-button fill="clear" expand="block" (click)="toggleLogin()">
          <span *ngIf="showLogin">{{ 'pages.auth.button.registerInstead' | translate }}</span>
          <span *ngIf="!showLogin">{{ 'pages.auth.button.loginInstead' | translate }}</span>
        </ion-button>
      </div>
    </ion-list>
  </div>
</ion-content>
