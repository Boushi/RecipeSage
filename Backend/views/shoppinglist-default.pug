html
  head
    title= shoppingList.title
    script(type="text/javascript").
      var _paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="//a.recipesage.com/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '3']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    link(href="https://fonts.googleapis.com/css?family=Noto+Serif|Noto+Sans", rel="stylesheet")
    style(type='text/css').
      body {
        position: relative;
        margin: 0.635cm;
        font-family: 'Noto+Sans', sans-serif;
        font-size: 14px;
      }

      .items {
        column-count: 2;
      }

      .item {
        margin: 5px 0px;
      }

    h2(class="title")= shoppingList.title

    div(class="items")
      each item in shoppingList.items
        p(class="item")= item.title

    p(class="printed-on")
      i Printed on&nbsp;
      i= date

  script(type='text/javascript').
    if (window.location.href.indexOf('print=true') > -1) {
      window.print();
      window.onafterprint = window.close;
    }

    window.addEventListener('message', function(e) {
      if (e.data == 'print') window.print();
    });
